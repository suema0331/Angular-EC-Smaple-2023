<div class="mypage-cover">
  <div class="mypage-header">
    <div class="_ttl">My Page</div>
    <div class="_right">
      <button
        *ngIf="currentUser.uid"
        class="_logout"
        (click)="logoutHandler()"
        title="This is a button to execute logout."
      >
        <div class="_button-area">logout</div>
      </button>
      <a
        (click)="handleBack()"
        class="btn-close"
        type="button"
        title="This is a button to navigate to the top page."
      ></a>
    </div>
  </div>

  <div class="mypage">
    <div *ngIf="currentUser.uid" class="account-area">
      <div class="_left">
        <div class="_icon">
          <img
            alt="user-icon"
            [src]="currentUser.photoURL"
            (click)="clickUserIconHandler()"
          />
        </div>
      </div>
      <div class="_right">
        <div class="_name">
          <span
            >Welcome,
            <span class="_value">{{ currentUser.displayName }}</span></span
          >
        </div>
        <div class="_info">
          EmailVerified:
          <span class="_value">{{ currentUser.emailVerified }}</span>
          <div class="_note" *ngIf="!currentUser.emailVerified">
            *Please verify your email
          </div>
        </div>
        <div class="_info">
          LastLogin:
          <span class="_value">{{
            currentUser.metadata && (currentUser.metadata.lastSignInTime ?? '')
              | date : 'dd/MM/yyyy hh:mm:ss'
          }}</span>
        </div>
      </div>
    </div>
    <div *ngIf="!currentUser.uid" class="require-signup-area">
      <div class="_message">Please register your account!</div>
      <div class="_buttons">
        <a
          (click)="this.locationService.navigateTo1_5()"
          title="This is a button to navigate to the signup page."
          class="_signup"
        >
          Register
        </a>
        <a
          (click)="loginHandler()"
          title="This is a button to navigate to the login page."
          class="_login"
        >
          Log In
        </a>
      </div>
    </div>

    <div class="menu-area">
      <div class="_ttl">Search Products</div>
      <ul class="list-group">
        <a class="list-group-item">
          Categories <i class="fas fa-chevron-right"></i>
        </a>
        <a
          (click)="navigateToFavoriteHandler()"
          class="list-group-item"
          title="This is a link to navigate to the favorite page."
        >
          Favorites <i class="fas fa-chevron-right"></i>
        </a>
        <a
          (click)="navigateToPastitemHandler()"
          class="list-group-item"
          title="This is a link to navigate to the purchased item page."
        >
          Purchase History <i class="fas fa-chevron-right"></i>
        </a>
      </ul>
    </div>

    <div class="menu-area">
      <div class="_ttl">Others</div>
      <ul class="list-group">
        <a (click)="navigateToCampaignHandler()" class="list-group-item">
          Campaigns <i class="fas fa-chevron-right"></i>
        </a>
        <a
          (click)="navigateToFaqHandler()"
          class="list-group-item"
          title="This is a link to navigate to the external FAQ page."
        >
          FAQ <i class="fas fa-chevron-right"></i>
        </a>
        <a
          (click)="navigateToTermsHandler()"
          class="list-group-item"
          title="This is a link to navigate to the external compliance page."
        >
          Compliance <i class="fas fa-chevron-right"></i>
        </a>
        <a
          (click)="navigateToPolicyHandler()"
          class="list-group-item"
          title="This is a link to navigate to the external privacy policy page."
        >
          Privacy Policy <i class="fas fa-chevron-right"></i>
        </a>
      </ul>
    </div>
  </div>
</div>
